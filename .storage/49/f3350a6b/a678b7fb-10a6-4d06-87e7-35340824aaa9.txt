$ cd /workspace && mkdir ecommerce-clv-analysis && cd ecommerce-clv-analysis
$ cd /workspace/ecommerce-clv-analysis && mkdir -p data/raw data/processed notebooks src visualizations reports

$ cd /workspace/ecommerce-clv-analysis && python src/data_preprocessing.py

Cleaning data...
Dataset not found. Generating sample dataset...
Downloading Online Retail II dataset...
Dataset created with 50000 transactions and saved to data/raw/online_retail_ii.csv
Removed 0 rows with missing CustomerID
Data cleaned: (47025, 9)
Date range: 2023-10-01 16:09:55.126233 to 2025-09-30 16:09:55.126233
Number of unique customers: 2000
Number of unique products: 1000

Dataset Summary:
total_transactions: 47025
unique_customers: 2000
unique_products: 1000
date_range: {'start': Timestamp('2023-10-01 16:09:55.126233'), 'end': Timestamp('2025-09-30 16:09:55.126233')}
total_revenue: 4074686.6299999994
avg_transaction_value: 86.64937012227537
countries: {'United Kingdom': 32921, 'Germany': 4758, 'France': 3772, 'Spain': 2351, 'Netherlands': 1806, 'Belgium': 1417}
$ cd /workspace/ecommerce-clv-analysis && python src/rfm_analysis.py

Traceback (most recent call last):
  File "/workspace/ecommerce-clv-analysis/src/rfm_analysis.py", line 11, in <module>
    from sklearn.preprocessing import StandardScaler
  File "/opt/conda/envs/mgx-chat/lib/python3.10/site-packages/sklearn/__init__.py", line 83, in <module>
    from .base import clone
  File "/opt/conda/envs/mgx-chat/lib/python3.10/site-packages/sklearn/base.py", line 19, in <module>
    from .utils import _IS_32BIT
  File "/opt/conda/envs/mgx-chat/lib/python3.10/site-packages/sklearn/utils/__init__.py", line 27, in <module>
    from .murmurhash import murmurhash3_32
  File "sklearn/utils/murmurhash.pyx", line 1, in init sklearn.utils.murmurhash
ValueError: numpy.dtype size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject
$ cd /workspace/ecommerce-clv-analysis && python src/clustering.py

Traceback (most recent call last):
  File "/workspace/ecommerce-clv-analysis/src/clustering.py", line 10, in <module>
    from sklearn.cluster import KMeans
  File "/opt/conda/envs/mgx-chat/lib/python3.10/site-packages/sklearn/__init__.py", line 83, in <module>
    from .base import clone
  File "/opt/conda/envs/mgx-chat/lib/python3.10/site-packages/sklearn/base.py", line 19, in <module>
    from .utils import _IS_32BIT
  File "/opt/conda/envs/mgx-chat/lib/python3.10/site-packages/sklearn/utils/__init__.py", line 27, in <module>
    from .murmurhash import murmurhash3_32
  File "sklearn/utils/murmurhash.pyx", line 1, in init sklearn.utils.murmurhash
ValueError: numpy.dtype size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject
$ cd /workspace/ecommerce-clv-analysis && python src/clv_models.py

Traceback (most recent call last):
  File "/workspace/ecommerce-clv-analysis/src/clv_models.py", line 10, in <module>
    from lifetimes import BetaGeoFitter, GammaGammaFitter
ModuleNotFoundError: No module named 'lifetimes'
